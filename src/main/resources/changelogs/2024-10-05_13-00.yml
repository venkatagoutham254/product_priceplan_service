databaseChangeLog:
  - changeSet:
      id: rateplanservie-initial
      author: bootify.io
      changes:
        - createTable:
            tableName: aforo_product
            columns:
              - column:
                  name: product_id
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: producer_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: organization_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: division_id
                  type: int
              - column:
                  name: product_name
                  type: character varying(100)
                  constraints:
                    nullable: false
              - column:
                  name: product_description
                  type: clob
                  constraints:
                    nullable: false
              - column:
                  name: status
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_currencies
            columns:
              - column:
                  name: currency_id
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: currency_code
                  type: character varying(3)
                  constraints:
                    nullable: false
              - column:
                  name: currency_name
                  type: character varying(50)
                  constraints:
                    nullable: false
              - column:
                  name: is_active
                  type: boolean
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan
            columns:
              - column:
                  name: rate_plan_id
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: rate_plan_name
                  type: character varying(100)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: clob
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_type
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: start_date
                  type: date
                  constraints:
                    nullable: false
              - column:
                  name: end_date
                  type: date
                  constraints:
                    nullable: false
              - column:
                  name: status
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: product_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: currency_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_usage_based_rates
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: unit_rate
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_tiered_rate
            columns:
              - column:
                  name: rate_plan_tiered_rate_id
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: rate_plan_tiered_description
                  type: character varying(100)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: clob
              - column:
                  name: unit_type
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_measurement
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_calculation
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_tiered_rate_details
            columns:
              - column:
                  name: tier_number
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: tier_start
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: tier_rate
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: tier_end
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_tiered_rate_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_flat_rate
            columns:
              - column:
                  name: rate_plan_flat_rate_id
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: rate_plan_flat_description
                  type: character varying(100)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: clob
              - column:
                  name: unit_type
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_measurement
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: flat_rate_unit_calculation
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: max_limit_frequency
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_flat_rate_details
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: unit_rate
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: max_limit
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_flat_rate_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_subscription_rate
            columns:
              - column:
                  name: rate_plan_subscription_rate_id
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: rate_plan_subscription_description
                  type: character varying(100)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: clob
              - column:
                  name: unit_type
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_measurement
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_billing_frequency
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_price_fixed_frequency
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_subscription_rate_details
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: unit_price_fixed
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: subscription_max_unit_quantity
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_subscription_rate_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_freemium_rate
            columns:
              - column:
                  name: rate_plan_freemium_rate_id
                  type: int
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: rate_plan_freemium_description
                  type: character varying(100)
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: clob
              - column:
                  name: unit_type
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_measurement
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_billing_frequency
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: unit_free_price_fixed_frequency
                  type: character varying(255)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - createTable:
            tableName: aforo_rate_plan_freemium_rate_details
            columns:
              - column:
                  name: id
                  type: bigint
                  autoIncrement: true
                  startWith: 10000
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: freemium_max_unit_quantity
                  type: numeric(10, 2)
                  constraints:
                    nullable: false
              - column:
                  name: rate_plan_freemium_rate_id
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: date_created
                  type: timestamp
                  constraints:
                    nullable: false
              - column:
                  name: last_updated
                  type: timestamp
                  constraints:
                    nullable: false
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_product_id
            baseTableName: aforo_rate_plan
            baseColumnNames: product_id
            referencedTableName: aforo_product
            referencedColumnNames: product_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_currency_id
            baseTableName: aforo_rate_plan
            baseColumnNames: currency_id
            referencedTableName: aforo_currencies
            referencedColumnNames: currency_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_tiered_rate_rate_plan_id
            baseTableName: aforo_rate_plan_tiered_rate
            baseColumnNames: rate_plan_id
            referencedTableName: aforo_rate_plan
            referencedColumnNames: rate_plan_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_tiered_rate_details_rate_plan_tiered_rate_id
            baseTableName: aforo_rate_plan_tiered_rate_details
            baseColumnNames: rate_plan_tiered_rate_id
            referencedTableName: aforo_rate_plan_tiered_rate
            referencedColumnNames: rate_plan_tiered_rate_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_flat_rate_rate_plan_id
            baseTableName: aforo_rate_plan_flat_rate
            baseColumnNames: rate_plan_id
            referencedTableName: aforo_rate_plan
            referencedColumnNames: rate_plan_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_flat_rate_details_rate_plan_flat_rate_id
            baseTableName: aforo_rate_plan_flat_rate_details
            baseColumnNames: rate_plan_flat_rate_id
            referencedTableName: aforo_rate_plan_flat_rate
            referencedColumnNames: rate_plan_flat_rate_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_subscription_rate_rate_plan_id
            baseTableName: aforo_rate_plan_subscription_rate
            baseColumnNames: rate_plan_id
            referencedTableName: aforo_rate_plan
            referencedColumnNames: rate_plan_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_subscription_rate_details_rate_plan_subscription_rate_id
            baseTableName: aforo_rate_plan_subscription_rate_details
            baseColumnNames: rate_plan_subscription_rate_id
            referencedTableName: aforo_rate_plan_subscription_rate
            referencedColumnNames: rate_plan_subscription_rate_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_freemium_rate_rate_plan_id
            baseTableName: aforo_rate_plan_freemium_rate
            baseColumnNames: rate_plan_id
            referencedTableName: aforo_rate_plan
            referencedColumnNames: rate_plan_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
        - addForeignKeyConstraint:
            constraintName: fk_rate_plan_freemium_rate_details_rate_plan_freemium_rate_id
            baseTableName: aforo_rate_plan_freemium_rate_details
            baseColumnNames: rate_plan_freemium_rate_id
            referencedTableName: aforo_rate_plan_freemium_rate
            referencedColumnNames: rate_plan_freemium_rate_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
